# Module 2.2: Data Binding Deep Dive

**Objective:** By the end of this module, you will be able to effectively use and explain the four types of data binding in Angular: interpolation, property binding, event binding, and two-way binding.

---

### The Core of Dynamic UIs

Data binding is the mechanism that connects your application's data (the component's state) with the DOM. It allows you to create dynamic and interactive applications where the view automatically reflects changes in the data, and user actions in the view can update the data. 

**Analogy:** Think of data binding as a two-way radio. The component class can broadcast messages to the template (`@Input`), and the template can send messages back to the class (`@Output`).

```mermaid
graph TD
    A[Component Class (Data)] <--> B[HTML Template (View)];
    A -- updates --> B;
    B -- user input --> A;
```

### The Four Types of Data Binding

Angular provides four main types of data binding, each with a distinct syntax and purpose. The direction of data flow is the key differentiator.

```mermaid
graph TD
    subgraph Component Class (.ts)
        A[Property]
        B[Method]
    end

    subgraph Template (.html)
        C[DOM Element]
        D[DOM Event]
    end

    A -- One-Way --> C; 
    subgraph One-Way to the View
        direction LR
        T1[Interpolation: `{{ data }}`]
        T2[Property Binding: `[property]="data"`]
    end

    D -- One-Way --> B;
    subgraph One-Way from the View
        direction LR
        T3[Event Binding: `(event)="handler()"`]
    end

    A <--> C;
    subgraph Two-Way
        direction LR
        T4[Two-Way Binding: `[(ngModel)]="data"`]
    end

    A --> T1 & T2;
    T3 --> B;
    A --> T4;
    T4 --> A;
```

**Text Summary of Data Binding Types:**

Angular's data binding facilitates communication between the component class and its template. It supports one-way binding from the class to the view (Interpolation and Property Binding), one-way binding from the view to the class (Event Binding), and two-way binding (combining property and event binding, typically with `[(ngModel)]`).

--- 

### 1. One-Way Binding: From Class to Template

This is the most common type of binding. It sends data in one direction: from the component's class to the template.

#### a) Interpolation `{{ }}`

*   **What it does:** Renders a property from your class as text within the template.
*   **Use Case:** Displaying string or number values inside an element tag (e.g., `<h1>`, `<p>`, `<span>`).
*   **Syntax:** `{{ propertyName }}`

**Note:** Interpolation is limited to string and number types. For other types, use property binding.

**Example:**

**Component (`.ts`):**
```typescript
export class ProductComponent {
  productName: string = 'SuperWidget';
  productPrice: number = 199.99;
}
```

**Template (`.html`):**
```html
<h2>{{ productName }}</h2>
<p>Price: ${{ productPrice }}</p>
```

#### b) Property Binding `[ ]`

*   **What it does:** Binds a class property to a property of an HTML element (a DOM property).
*   **Use Case:** Setting values for properties that are not simple strings, such as `[disabled]` on a button, `[src]` on an image, or binding to custom properties of child components.
*   **Syntax:** `[domProperty]="classProperty"`

**Example:**

**Component (`.ts`):**
```typescript
export class ImageComponent {
  imageUrl: string = 'assets/images/logo.png';
  isButtonDisabled: boolean = true;
}
```

**Template (`.html`):**
```html
<img [src]="imageUrl">
<button [disabled]="isButtonDisabled">Submit</button>
```

--- 

### 2. One-Way Binding: From Template to Class

This type of binding listens for user actions in the template and sends a signal to the component's class.

#### Event Binding `( )`

*   **What it does:** Executes a method in your component class when a specific event occurs on an element (e.g., `click`, `mouseover`, `keyup`).
*   **Use Case:** Responding to user interactions like button clicks, form submissions, or mouse movements.
*   **Syntax:** `(eventName)="methodName()"`

**Note:** You can also handle event bubbling and custom events from child components.

**Example:**

**Component (`.ts`):**
```typescript
export class CounterComponent {
  count: number = 0;

  increment(): void {
    this.count++;
  }
}
```

**Template (`.html`):**
```html
<p>Current Count: {{ count }}</p>
<button (click)="increment()">+</button>
```

*   **The `$event` Object:** You can pass data about the event itself using the special `$event` variable.

    ```html
    <input (keyup)="onKeyUp($event)">
    ```
    ```typescript
    onKeyUp(event: KeyboardEvent) {
      const inputElement = event.target as HTMLInputElement;
      console.log(inputElement.value);
    }
    ```

--- 

### 3. Two-Way Binding `[( )]`

Two-way binding is a convenient syntax that combines property binding and event binding into a single notation. It's most commonly used with form inputs.

*   **What it does:** Creates a synchronized, two-way connection. When the class property changes, the template updates. When the user changes the value in the template, the class property is automatically updated.
*   **Use Case:** Simplifying form handling with `ngModel`.
*   **Syntax:** `[(ngModel)]="classProperty"`

**Note:** For complex forms, consider using Reactive Forms, which offer more explicit control. For simple inputs, `[(ngModel)]` is a quick solution. Avoid two-way binding for performance-critical applications.

**Important:** To use `[(ngModel)]`, you must import the `FormsModule` into your standalone component or `NgModule`.

**Example:**

**Component (`.ts`):**
```typescript
import { Component } from '@angular/core';
import { FormsModule } from '@angular/forms';

@Component({
  standalone: true,
  selector: 'app-feedback-form',
  imports: [FormsModule],
  template: `
    <input [(ngModel)]="feedbackMessage" placeholder="Enter feedback">
    <p>Your message: {{ feedbackMessage }}</p>
  `
})
export class FeedbackFormComponent {
  feedbackMessage: string = '';
}
```

**How it works under the hood:**

The `[(ngModel)]` syntax is just syntactic sugar for:

```html
<input 
  [ngModel]="feedbackMessage" 
  (ngModelChange)="feedbackMessage = $event">
```

It binds the `ngModel` property to your class property and listens for the `ngModelChange` event to update it.

---

### Key Takeaways

*   **Data binding** connects component data with the template.
*   **Interpolation (`{{ }}`)** and **Property Binding (`[ ]`)** are for one-way data flow from component to view.
*   **Event Binding (`( )`)** is for one-way data flow from view to component.
*   **Two-Way Binding (`[(ngModel)]`)** combines property and event binding.

---

**Previous:** [2.1 Components Deep Dive](./2.1-components-deep-dive.md)

**Next:** [2.3 Directives Deep Dive](./2.3-directives-deep-dive.md)
